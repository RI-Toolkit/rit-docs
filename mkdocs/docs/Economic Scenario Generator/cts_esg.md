# Continuous-Time Generator

The continuous-time economic scenario generator simulates the trajectories of: 

(1) Australia zero-coupon bond rates maturing every quarter from 3 months up to 10 years, i.e., 0.25 years, 0.5 years, 0.75 years, ..., 10 years, 

(2) NSW home value index,  

(3) S&P/ASX200 price. 

The zero-coupon bond term structure is fitted using the arbitrage-free Nelson-Siegel model, while NSW home value index and S&P/ASX200 price are assumed to be Geometric Brownian Motions that are correlated with the zero-coupon bond rates. 

The independent-factor model assumes that the level, slope, and curvature of the risk-free rate are mutually independent, while the correlated-factor model assumes dependence among them. Simulations generated by the correlated-factor models are more variable since more parameters are involved. 

Denote $X^1$ the level, $X^2$ the slope, $X^3$ the curvature of the risk-free rate, $X^4$ the logged NSW home value index, and $X^5$ the S&P/ASX200 price. The independent-factor model satisfies the following stochastic differential equation: 

![](https://latex.codecogs.com/svg.image?\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;dX_t^1&space;\\&space;dX_t^2&space;\\&space;dX_t^3&space;\\&space;dX_t^4&space;\\&space;dX_t^5&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;=&space;\left[&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\theta_1&space;\\&space;\theta_2&space;\\&space;\theta_3&space;\\&space;\theta_4&space;\\&space;\theta_5&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;-&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\kappa_{11}&space;&&space;0&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;0&space;&&space;\kappa_{22}&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;0&space;&&space;0&space;&&space;\kappa_{33}&space;&&space;0&space;&&space;0&space;\\&space;-1&space;&&space;-1&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;-1&space;&&space;-1&space;&&space;0&space;&&space;0&space;&&space;0&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;X_t^1&space;\\&space;X_t^2&space;\\&space;X_t^3&space;\\&space;X_t^4&space;\\&space;X_t^5&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;\right]&space;dt&space;&plus;&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\sigma_{11}&space;&&space;0&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;0&space;&&space;\sigma_{22}&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;0&space;&&space;0&space;&&space;\sigma_{33}&space;&&space;0&space;&&space;0&space;\\&space;\sigma_{41}&space;&&space;\sigma_{42}&space;&&space;\sigma_{43}&space;&&space;\sigma_{44}&space;&&space;0&space;\\&space;\sigma_{51}&space;&&space;\sigma_{52}&space;&&space;\sigma_{53}&space;&&space;\sigma_{54}&space;&&space;\sigma_{55}&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;dW_{1t}&space;\\&space;dW_{2t}&space;\\&space;dW_{3t}&space;\\&space;dW_{4t}&space;\\&space;dW_{5t}&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix})

and the correlated-factor model satisfies ![](https://latex.codecogs.com/svg.image?\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;dX_t^1&space;\\&space;dX_t^2&space;\\&space;dX_t^3&space;\\&space;dX_t^4&space;\\&space;dX_t^5\end{pmatrix}&space;=&space;\left(&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;\theta^\mathrm{P}_1&space;\\&space;\theta^\mathrm{P}_2&space;\\&space;\theta^\mathrm{P}_3&space;\\&space;\theta^\mathrm{P}_4&space;\\&space;\theta^\mathrm{P}_5\end{pmatrix}&space;-&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;\kappa_{11}^\mathrm{P}&space;&&space;\kappa_{12}^\mathrm{P}&space;&&space;\kappa_{13}^\mathrm{P}&space;&&space;0&space;&&space;0&space;\\&space;\kappa_{21}^\mathrm{P}&space;&&space;\kappa_{22}^\mathrm{P}&space;&&space;\kappa_{23}^\mathrm{P}&space;&&space;0&space;&&space;0&space;\\&space;\kappa_{31}^\mathrm{P}&space;&&space;\kappa_{32}^\mathrm{P}&space;&&space;\kappa_{33}^\mathrm{P}&space;&&space;0&space;&&space;0&space;\\&space;-1&space;&&space;-1&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;-1&space;&&space;-1&space;&&space;0&space;&&space;0&space;&&space;0\end{pmatrix}&space;\begin{pmatrix}&space;&space;&space;&space;X_t^1&space;\\&space;X_t^2&space;\\&space;X_t^3&space;\\&space;X_t^4&space;\\&space;X_t^5\end{pmatrix}&space;\right)&space;dt&space;)

![](https://latex.codecogs.com/svg.image?\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;dX_t^1&space;\\&space;dX_t^2&space;\\&space;dX_t^3&space;\\&space;dX_t^4&space;\\&space;dX_t^5&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;=&space;\left[&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\theta_1&space;\\&space;\theta_2&space;\\&space;\theta_3&space;\\&space;\theta_4&space;\\&space;\theta_5&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;-&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\kappa_{11}&space;&&space;\kappa_{12}&space;&&space;\kappa_{13}&space;&&space;0&space;&&space;0&space;\\&space;\kappa_{21}&space;&&space;\kappa_{22}&space;&&space;\kappa_{23}&space;&&space;0&space;&&space;0&space;\\&space;\kappa_{31}&space;&&space;\kappa_{32}&space;&&space;\kappa_{33}&space;&&space;0&space;&&space;0&space;\\&space;-1&space;&&space;-1&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;-1&space;&&space;-1&space;&&space;0&space;&&space;0&space;&&space;0&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;X_t^1&space;\\&space;X_t^2&space;\\&space;X_t^3&space;\\&space;X_t^4&space;\\&space;X_t^5&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;\right]&space;dt&space;&plus;&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;\sigma_{11}&space;&&space;0&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;\sigma_{21}&space;&&space;\sigma_{22}&space;&&space;0&space;&&space;0&space;&&space;0&space;\\&space;\sigma_{31}&space;&&space;\sigma_{32}&space;&&space;\sigma_{33}&space;&&space;0&space;&&space;0&space;\\&space;\sigma_{41}&space;&&space;\sigma_{42}&space;&&space;\sigma_{43}&space;&&space;\sigma_{44}&space;&&space;0&space;\\&space;\sigma_{51}&space;&&space;\sigma_{52}&space;&&space;\sigma_{53}&space;&&space;\sigma_{54}&space;&&space;\sigma_{55}&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix}&space;\begin{pmatrix}&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;&space;dW_{1t}&space;\\&space;dW_{2t}&space;\\&space;dW_{3t}&space;\\&space;dW_{4t}&space;\\&space;dW_{5t}&space;&space;&space;&space;&space;&space;&space;&space;&space;\end{pmatrix})

The results are still depicted with the same simulation frequency options as the discrete case, but the calculations are based in continuous time. 

---

**get_afns_simulation(num_years = 5, num_paths = 10, frequency = 'month', type = 'independent', model = 'interest_rate')**

&nbsp;&nbsp; **Paramters:**

&nbsp;&nbsp;&nbsp;&nbsp; num_years : numeric

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *integer denoting number of years to forecast from 2021-06-01*

&nbsp;&nbsp;&nbsp;&nbsp; num_paths : numeric

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *integer denoting the number of simulation paths*

&nbsp;&nbsp;&nbsp;&nbsp; frequency : character

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *'year', 'quarter' or 'month' denoting the simulation frequency*

&nbsp;&nbsp;&nbsp;&nbsp; type : character

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *'independent' or 'correlated' denoting whether the latent factors are independent of each other*

&nbsp;&nbsp;&nbsp;&nbsp; model : character

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *'interest_rate' or 'interest_house_stock' denoting the output variables*

&nbsp;&nbsp; **Returns:**

&nbsp;&nbsp;&nbsp;&nbsp; A list of 40 dataframes containing simulated interest rates with maturities from 1 quarter up to 10 years, or 42 dataframes containing interest rates, NSW house value index, S&P/ASX200 closing prices if model is set to be interest_house_stock.  

&nbsp;&nbsp; **Usage:**

```r
# simulate 10 years of data 
sim <- get_afns_simulation(num_years = 10, num_paths = 10000, frequency = 'year', type = 'independent', model = 'interest_house_stock')

# suppose we wish to look at the 3-month zero-coupon bond rates
sim$maturity_1qtrs

# suppose we wish to look at the 5-year zero-coupon bond rates
sim$maturity_20qtrs

# NSW house value index 
sim$house_index

# S&P/ASX200 closing price 
sim$stock_price 
```

&nbsp;&nbsp; **References:**

Christensen, J. H., Diebold, F. X. & Rudebusch, G. D. (2011), ‘The affine arbitrage-free class of nelson–siegel term structure models’, _Journal of Econometrics_ 164(1), 4–20.

Christensen, J. H., Lopez, J. A. & Rudebusch, G. D. (2015), ‘Analytical formulas for the second moment in affine models with stochastic volatility’.
